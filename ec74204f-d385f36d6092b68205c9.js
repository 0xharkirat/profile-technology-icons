"use strict";(self.webpackChunkprofile_technology_icons=self.webpackChunkprofile_technology_icons||[]).push([[210],{8158:function(t,e,n){n.d(e,{BO:function(){return Ft},D0:function(){return Ct},Gz:function(){return ne},IS:function(){return ee},Py:function(){return It},QQ:function(){return et},Wl:function(){return at},Xs:function(){return zt},YW:function(){return Zt},as:function(){return J},bg:function(){return C},cp:function(){return E},f_:function(){return Vt},gc:function(){return D},gm:function(){return T},jT:function(){return $},n0:function(){return F},nZ:function(){return N},q6:function(){return wt},r$:function(){return Q},uU:function(){return Jt},xv:function(){return v},yy:function(){return Dt}});var i=n(885),r=n(1752),s=n(136),o=n(6215),a=n(1120),h=n(5671),u=n(3144);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,a.Z)(t);if(e){var r=(0,a.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var v=function(){function t(){(0,h.Z)(this,t)}return(0,u.Z)(t,[{key:"lineAt",value:function(t){if(t<0||t>this.length)throw new RangeError("Invalid position ".concat(t," in document of length ").concat(this.length));return this.lineInner(t,!1,1,0)}},{key:"line",value:function(t){if(t<1||t>this.lines)throw new RangeError("Invalid line number ".concat(t," in ").concat(this.lines,"-line document"));return this.lineInner(t,!0,1,0)}},{key:"replace",value:function(t,e,n){var i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),g.from(i,this.length-(e-t)+n.length)}},{key:"append",value:function(t){return this.replace(this.length,this.length,t)}},{key:"slice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(t,e,n,0),g.from(n,e-t)}},{key:"eq",value:function(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;for(var e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new k(this),r=new k(t),s=e,o=e;;){if(i.next(s),r.next(s),s=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}},{key:"iter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new k(this,t)}},{key:"iterRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new x(this,t,e)}},{key:"iterLines",value:function(t,e){var n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);var i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new w(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var t=[];return this.flatten(t),t}}],[{key:"of",value:function(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new d(e):g.from(d.split(e,[])):t.empty}}]),t}(),d=function(t){(0,s.Z)(n,t);var e=f(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(t);return(0,h.Z)(this,n),(i=e.call(this)).text=t,i.length=r,i}return(0,u.Z)(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(t,e,n,i){for(var r=0;;r++){var s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new S(i,o,n,s);i=o+1,n++}}},{key:"decompose",value:function(t,e,i,r){var s=t<=0&&e>=this.length?this:new n(m(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&r){var o=i.pop(),a=y(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new n(a,o.length+s.length));else{var h=a.length>>1;i.push(new n(a.slice(0,h)),new n(a.slice(h)))}}else i.push(s)}},{key:"replace",value:function(t,e,i){if(!(i instanceof n))return(0,r.Z)((0,a.Z)(n.prototype),"replace",this).call(this,t,e,i);var s=y(this.text,y(i.text,m(this.text,0,t)),e),o=this.length+i.length-(e-t);return s.length<=32?new n(s,o):g.from(n.split(s,[]),o)}},{key:"sliceString",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",i="",r=0,s=0;r<=e&&s<this.text.length;s++){var o=this.text[s],a=r+o.length;r>t&&s&&(i+=n),t<a&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=a+1}return i}},{key:"flatten",value:function(t){var e,n=c(this.text);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(i)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(t,e){var i,r=[],s=-1,o=c(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.push(a),s+=a.length+1,32==r.length&&(e.push(new n(r,s)),r=[],s=-1)}}catch(h){o.e(h)}finally{o.f()}return s>-1&&e.push(new n(r,s)),e}}]),n}(v),g=function(t){(0,s.Z)(n,t);var e=f(n);function n(t,i){var r;(0,h.Z)(this,n),(r=e.call(this)).children=t,r.length=i,r.lines=0;var s,o=c(t);try{for(o.s();!(s=o.n()).done;){var a=s.value;r.lines+=a.lines}}catch(u){o.e(u)}finally{o.f()}return r}return(0,u.Z)(n,[{key:"lineInner",value:function(t,e,n,i){for(var r=0;;r++){var s=this.children[r],o=i+s.length,a=n+s.lines-1;if((e?a:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=a+1}}},{key:"decompose",value:function(t,e,n,i){for(var r=0,s=0;s<=e&&r<this.children.length;r++){var o=this.children[r],a=s+o.length;if(t<=a&&e>=s){var h=i&((s<=t?1:0)|(a>=e?2:0));s>=t&&a<=e&&!h?n.push(o):o.decompose(t-s,e-s,n,h)}s=a+1}}},{key:"replace",value:function(t,e,i){if(i.lines<this.lines)for(var s=0,o=0;s<this.children.length;s++){var h=this.children[s],u=o+h.length;if(t>=o&&e<=u){var c=h.replace(t-o,e-o,i),l=this.lines-h.lines+c.lines;if(c.lines<l>>4&&c.lines>l>>6){var f=this.children.slice();return f[s]=c,new n(f,this.length-(e-t)+i.length)}return(0,r.Z)((0,a.Z)(n.prototype),"replace",this).call(this,o,u,c)}o=u+1}return(0,r.Z)((0,a.Z)(n.prototype),"replace",this).call(this,t,e,i)}},{key:"sliceString",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",i="",r=0,s=0;r<this.children.length&&s<=e;r++){var o=this.children[r],a=s+o.length;s>t&&r&&(i+=n),t<a&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=a+1}return i}},{key:"flatten",value:function(t){var e,n=c(this.children);try{for(n.s();!(e=n.n()).done;){e.value.flatten(t)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(t,e){if(!(t instanceof n))return 0;for(var r=0,s=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1],o=(0,i.Z)(s,4),a=o[0],h=o[1],u=o[2],c=o[3];;a+=e,h+=e){if(a==u||h==c)return r;var l=this.children[a],f=t.children[h];if(l!=f)return r+l.scanIdentical(f,e);r+=l.length+1}}}],[{key:"from",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.reduce((function(t,e){return t+e.length+1}),-1),r=0,s=c(t);try{for(s.s();!(e=s.n()).done;){var o=e.value;r+=o.lines}}catch(Z){s.e(Z)}finally{s.f()}if(r<32){var a,h=[],u=c(t);try{for(u.s();!(a=u.n()).done;){var l=a.value;l.flatten(h)}}catch(Z){u.e(Z)}finally{u.f()}return new d(h,i)}var f=Math.max(32,r>>5),v=f<<1,g=f>>1,p=[],y=0,m=-1,k=[];function x(t){var e;if(t.lines>v&&t instanceof n){var i,r=c(t.children);try{for(r.s();!(i=r.n()).done;){x(i.value)}}catch(Z){r.e(Z)}finally{r.f()}}else t.lines>g&&(y>g||!y)?(w(),p.push(t)):t instanceof d&&y&&(e=k[k.length-1])instanceof d&&t.lines+e.lines<=32?(y+=t.lines,m+=t.length+1,k[k.length-1]=new d(e.text.concat(t.text),e.length+1+t.length)):(y+t.lines>f&&w(),y+=t.lines,m+=t.length+1,k.push(t))}function w(){0!=y&&(p.push(1==k.length?k[0]:n.from(k,m)),m=-1,y=k.length=0)}var S,b=c(t);try{for(b.s();!(S=b.n()).done;){var I=S.value;x(I)}}catch(Z){b.e(Z)}finally{b.f()}return w(),1==p.length?p[0]:new n(p,i)}}]),n}(v);function p(t){var e,n=-1,i=c(t);try{for(i.s();!(e=i.n()).done;){n+=e.value.length+1}}catch(r){i.e(r)}finally{i.f()}return n}function y(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,r=0,s=0,o=!0;s<t.length&&r<=i;s++){var a=t[s],h=r+a.length;h>=n&&(h>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=h+1}return e}function m(t,e,n){return y(t,[""],e,n)}v.empty=new d([""],0);var k=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,h.Z)(this,t),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof d?e.text.length:e.children.length)<<1]}return(0,u.Z)(t,[{key:"nextInner",value:function(t,e){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,i=this.nodes[n],r=this.offsets[n],s=r>>1,o=i instanceof d?i.text.length:i.children.length;if(s==(e>0?o:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&r)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof d){var a=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,a.length>Math.max(0,t))return this.value=0==t?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{var h=i.children[s+(e<0?-1:0)];t>h.length?(t-=h.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(e>0?1:(h instanceof d?h.text.length:h.children.length)<<1))}}}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}]),t}(),x=function(){function t(e,n,i){(0,h.Z)(this,t),this.value="",this.done=!1,this.cursor=new k(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}return(0,u.Z)(t,[{key:"nextInner",value:function(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);var n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;var i=this.cursor.next(t).value;return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),t}(),w=function(){function t(e){(0,h.Z)(this,t),this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}return(0,u.Z)(t,[{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.inner.next(t),n=e.done,i=e.lineBreak,r=e.value;return n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),t}();"undefined"!=typeof Symbol&&(v.prototype[Symbol.iterator]=function(){return this.iter()},k.prototype[Symbol.iterator]=x.prototype[Symbol.iterator]=w.prototype[Symbol.iterator]=function(){return this});for(var S=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.from=e,this.to=n,this.number=i,this.text=r}return(0,u.Z)(t,[{key:"length",get:function(){return this.to-this.from}}]),t}(),b="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(t){return t?parseInt(t,36):1})),I=1;I<b.length;I++)b[I]+=b[I-1];function Z(t){for(var e=1;e<b.length;e+=2)if(b[e]>t)return b[e-1]<=t;return!1}function P(t){return t>=127462&&t<=127487}function E(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?A:O)(t,e,i)}function A(t,e,n){if(e==t.length)return e;e&&R(t.charCodeAt(e))&&M(t.charCodeAt(e-1))&&e--;var i=T(t,e);for(e+=N(i);e<t.length;){var r=T(t,e);if(8205==i||8205==r||n&&Z(r))e+=N(r),i=r;else{if(!P(r))break;for(var s=0,o=e-2;o>=0&&P(T(t,o));)s++,o-=2;if(s%2==0)break;e+=2}}return e}function O(t,e,n){for(;e>0;){var i=A(t,e-2,n);if(i<e)return i;e--}return 0}function R(t){return t>=56320&&t<57344}function M(t){return t>=55296&&t<56320}function T(t,e){var n=t.charCodeAt(e);if(!M(n)||e+1==t.length)return n;var i=t.charCodeAt(e+1);return R(i)?i-56320+(n-55296<<10)+65536:n}function C(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function N(t){return t<65536?1:2}var B=/\r\n?|\n/,D=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(D||(D={})),F=function(){function t(e){(0,h.Z)(this,t),this.sections=e}return(0,u.Z)(t,[{key:"length",get:function(){for(var t=0,e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}},{key:"newLength",get:function(){for(var t=0,e=0;e<this.sections.length;e+=2){var n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(t){for(var e=0,n=0,i=0;e<this.sections.length;){var r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}},{key:"iterChangedRanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q(this,t,e)}},{key:"invertedDesc",get:function(){for(var e=[],n=0;n<this.sections.length;){var i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new t(e)}},{key:"composeDesc",value:function(t){return this.empty?t:t.empty?this:_(this,t)}},{key:"mapDesc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.empty?this:z(this,t,e)}},{key:"mapPos",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Simple,i=0,r=0,s=0;s<this.sections.length;){var o=this.sections[s++],a=this.sections[s++],h=i+o;if(a<0){if(h>t)return r+(t-i);r+=o}else{if(n!=D.Simple&&h>=t&&(n==D.TrackDel&&i<t&&h>t||n==D.TrackBefore&&i<t||n==D.TrackAfter&&h>t))return null;if(h>t||h==t&&e<0&&!o)return t==i||e<0?r:r+a;r+=a}i=h}if(t>i)throw new RangeError("Position ".concat(t," is out of range for changeset of length ").concat(i));return r}},{key:"touchesRange",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=0,i=0;n<this.sections.length&&i<=e;){var r=this.sections[n++],s=this.sections[n++],o=i+r;if(s>=0&&i<=e&&o>=t)return!(i<t&&o>e)||"cover";i=o}return!1}},{key:"toString",value:function(){for(var t="",e=0;e<this.sections.length;){var n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(e){if(!Array.isArray(e)||e.length%2||e.some((function(t){return"number"!=typeof t})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new t(e)}},{key:"create",value:function(e){return new t(e)}}]),t}(),J=function(t){(0,s.Z)(n,t);var e=f(n);function n(t,i){var r;return(0,h.Z)(this,n),(r=e.call(this,t)).inserted=i,r}return(0,u.Z)(n,[{key:"apply",value:function(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return q(this,(function(e,n,i,r,s){return t=t.replace(i,i+(n-e),s)}),!1),t}},{key:"mapDesc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return z(this,t,e,!0)}},{key:"invert",value:function(t){for(var e=this.sections.slice(),i=[],r=0,s=0;r<e.length;r+=2){var o=e[r],a=e[r+1];if(a>=0){e[r]=a,e[r+1]=o;for(var h=r>>1;i.length<h;)i.push(v.empty);i.push(o?t.slice(s,s+o):v.empty)}s+=o}return new n(e,i)}},{key:"compose",value:function(t){return this.empty?t:t.empty?this:_(this,t,!0)}},{key:"map",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.empty?this:z(this,t,e,!0)}},{key:"iterChanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q(this,t,e)}},{key:"desc",get:function(){return F.create(this.sections)}},{key:"filter",value:function(t){var e=[],i=[],r=[],s=new V(this);t:for(var o=0,a=0;;){for(var h=o==t.length?1e9:t[o++];a<h||a==h&&0==s.len;){if(s.done)break t;var u=Math.min(s.len,h-a);j(r,u,-1);var c=-1==s.ins?-1:0==s.off?s.ins:0;j(e,u,c),c>0&&L(i,e,s.text),s.forward(u),a+=u}for(var l=t[o++];a<l;){if(s.done)break t;var f=Math.min(s.len,l-a);j(e,f,-1),j(r,f,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(f),a+=f}}return{changes:new n(e,i),filtered:F.create(r)}}},{key:"toJSON",value:function(){for(var t=[],e=0;e<this.sections.length;e+=2){var n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}}],[{key:"of",value:function(t,e,i){var r=[],s=[],o=0,a=null;function h(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||r.length){o<e&&j(r,e-o,-1);var i=new n(r,s);a=a?a.compose(i.map(a)):i,r=[],s=[],o=0}}return function t(u){if(Array.isArray(u)){var l,f=c(u);try{for(f.s();!(l=f.n()).done;){t(l.value)}}catch(x){f.e(x)}finally{f.f()}}else if(u instanceof n){if(u.length!=e)throw new RangeError("Mismatched change set length (got ".concat(u.length,", expected ").concat(e,")"));h(),a=a?a.compose(u.map(a)):u}else{var d=u.from,g=u.to,p=void 0===g?d:g,y=u.insert;if(d>p||d<0||p>e)throw new RangeError("Invalid change range ".concat(d," to ").concat(p," (in doc of length ").concat(e,")"));var m=y?"string"==typeof y?v.of(y.split(i||B)):y:v.empty,k=m.length;if(d==p&&0==k)return;d<o&&h(),d>o&&j(r,d-o,-1),j(r,p-d,k),L(s,r,m),o=p}}(t),h(!a),a}},{key:"empty",value:function(t){return new n(t?[t,-1]:[],[])}},{key:"fromJSON",value:function(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");for(var e=[],i=[],r=0;r<t.length;r++){var s=t[r];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some((function(t,e){return e&&"string"!=typeof t})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{for(;i.length<r;)i.push(v.empty);i[r]=v.of(s.slice(1)),e.push(s[0],i[r].length)}}}return new n(e,i)}},{key:"createSet",value:function(t,e){return new n(t,e)}}]),n}(F);function j(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==e&&n<=0)){var r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}}function L(t,e,n){if(0!=n.length){var i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(v.empty);t.push(n)}}}function q(t,e,n){for(var i=t.inserted,r=0,s=0,o=0;o<t.sections.length;){var a=t.sections[o++],h=t.sections[o++];if(h<0)r+=a,s+=a;else{for(var u=r,c=s,l=v.empty;u+=a,c+=h,h&&i&&(l=l.append(i[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],h=t.sections[o++];e(r,u,s,c,l),r=u,s=c}}}function z(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],s=i?[]:null,o=new V(t),a=new V(e),h=-1;;)if(-1==o.ins&&-1==a.ins){var u=Math.min(o.len,a.len);j(r,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||h==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!n))){var c=a.len;for(j(r,a.ins,-1);c;){var l=Math.min(o.len,c);o.ins>=0&&h<o.i&&o.len<=l&&(j(r,0,o.ins),s&&L(s,r,o.text),h=o.i),o.forward(l),c-=l}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?J.createSet(r,s):F.create(r);throw new Error("Mismatched change set lengths")}for(var f=0,v=o.len;v;)if(-1==a.ins){var d=Math.min(v,a.len);f+=d,v-=d,a.forward(d)}else{if(!(0==a.ins&&a.len<v))break;v-=a.len,a.next()}j(r,f,h<o.i?o.ins:0),s&&h<o.i&&L(s,r,o.text),h=o.i,o.forward(o.len-v)}}function _(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[],r=n?[]:null,s=new V(t),o=new V(e),a=!1;;){if(s.done&&o.done)return r?J.createSet(i,r):F.create(i);if(0==s.ins)j(i,s.len,0,a),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");var h=Math.min(s.len2,o.len),u=i.length;if(-1==s.ins){var c=-1==o.ins?-1:o.off?0:o.ins;j(i,h,c,a),r&&c&&L(r,i,o.text)}else-1==o.ins?(j(i,s.off?0:s.len,h,a),r&&L(r,i,s.textBit(h))):(j(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&L(r,i,o.text));a=(s.ins>h||o.ins>=0&&o.len>h)&&(a||i.length>u),s.forward2(h),o.forward(h)}else j(i,0,o.ins,a),r&&L(r,i,o.text),o.next()}}var V=function(){function t(e){(0,h.Z)(this,t),this.set=e,this.i=0,this.next()}return(0,u.Z)(t,[{key:"next",value:function(){var t=this.set.sections;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var t=this.set.inserted,e=this.i-2>>1;return e>=t.length?v.empty:t[e]}},{key:"textBit",value:function(t){var e=this.set.inserted,n=this.i-2>>1;return n>=e.length&&!t?v.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}},{key:"forward",value:function(t){t==this.len?this.next():(this.len-=t,this.off+=t)}},{key:"forward2",value:function(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}]),t}(),W=function(){function t(e,n,i){(0,h.Z)(this,t),this.from=e,this.to=n,this.flags=i}return(0,u.Z)(t,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var t=3&this.flags;return 3==t?null:t}},{key:"goalColumn",get:function(){var t=this.flags>>5;return 33554431==t?void 0:t}},{key:"map",value:function(e){var n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new t(n,i,this.flags)}},{key:"extend",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(t<=this.anchor&&e>=this.anchor)return $.range(t,e);var n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return $.range(this.anchor,n)}},{key:"eq",value:function(t){return this.anchor==t.anchor&&this.head==t.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return $.range(t.anchor,t.head)}},{key:"create",value:function(e,n,i){return new t(e,n,i)}}]),t}(),$=function(){function t(e,n){(0,h.Z)(this,t),this.ranges=e,this.mainIndex=n}return(0,u.Z)(t,[{key:"map",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.empty?this:t.create(this.ranges.map((function(t){return t.map(e,n)})),this.mainIndex)}},{key:"eq",value:function(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new t([this.main],0)}},{key:"addRange",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.create([e].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,i=this.ranges.slice();return i[n]=e,t.create(i,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(t){return t.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new t(e.ranges.map((function(t){return W.fromJSON(t)})),e.main)}},{key:"single",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new t([t.range(e,n)],0)}},{key:"create",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==e.length)throw new RangeError("A selection needs at least one range");for(var i=0,r=0;r<e.length;r++){var s=e[r];if(s.empty?s.from<=i:s.from<i)return t.normalized(e.slice(),n);i=s.to}return new t(e,n)}},{key:"cursor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return W.create(t,t,(0==e?0:e<0?4:8)|(null==n?3:Math.min(2,n))|(null!=i?i:33554431)<<5)}},{key:"range",value:function(t,e,n){var i=(null!=n?n:33554431)<<5;return e<t?W.create(e,t,24|i):W.create(t,e,i|(e>t?4:0))}},{key:"normalized",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e[n];e.sort((function(t,e){return t.from-e.from})),n=e.indexOf(i);for(var r=1;r<e.length;r++){var s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){var a=o.from,h=Math.max(s.to,o.to);r<=n&&n--,e.splice(--r,2,s.anchor>s.head?t.range(h,a):t.range(a,h))}}return new t(e,n)}}]),t}();function U(t,e){var n,i=c(t.ranges);try{for(i.s();!(n=i.n()).done;){if(n.value.to>e)throw new RangeError("Selection points outside of document")}}catch(r){i.e(r)}finally{i.f()}}var G=0,Q=function(){function t(e,n,i,r,s){(0,h.Z)(this,t),this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=G++,this.default=e([]),this.extensions="function"==typeof s?s(this):s}return(0,u.Z)(t,[{key:"of",value:function(t){return new X([],this,0,t)}},{key:"compute",value:function(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(t,this,1,e)}},{key:"computeN",value:function(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(t,this,2,e)}},{key:"from",value:function(t,e){return e||(e=function(t){return t}),this.compute([t],(function(n){return e(n.field(t))}))}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t(e.combine||function(t){return t},e.compareInput||function(t,e){return t===e},e.compare||(e.combine?function(t,e){return t===e}:H),!!e.static,e.enables)}}]),t}();function H(t,e){return t==e||t.length==e.length&&t.every((function(t,n){return t===e[n]}))}var X=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=G++}return(0,u.Z)(t,[{key:"dynamicSlot",value:function(t){var e,n,i=this,r=this.value,s=this.facet.compareInput,o=this.id,a=t[o]>>1,h=2==this.type,u=!1,l=!1,f=[],v=c(this.dependencies);try{for(v.s();!(n=v.n()).done;){var d=n.value;"doc"==d?u=!0:"selection"==d?l=!0:0==(1&(null!==(e=t[d.id])&&void 0!==e?e:1))&&f.push(t[d.id])}}catch(g){v.e(g)}finally{v.f()}return{create:function(t){return t.values[a]=r(t),1},update:function(t,e){if(u&&e.docChanged||l&&(e.docChanged||e.selection)||K(t,f)){var n=r(t);if(h?!Y(n,t.values[a],s):!s(n,t.values[a]))return t.values[a]=n,1}return 0},reconfigure:function(t,e){var n=r(t),u=e.config.address[o];if(null!=u){var c=vt(e,u);if(i.dependencies.every((function(n){return n instanceof Q?e.facet(n)===t.facet(n):!(n instanceof et)||e.field(n,!1)==t.field(n,!1)}))||(h?Y(n,c,s):s(n,c)))return t.values[a]=c,0}return t.values[a]=n,1}}}}]),t}();function Y(t,e,n){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function K(t,e){var n,i=!1,r=c(e);try{for(r.s();!(n=r.n()).done;){1&ft(t,n.value)&&(i=!0)}}catch(s){r.e(s)}finally{r.f()}return i}var tt=Q.define({static:!0}),et=function(){function t(e,n,i,r,s){(0,h.Z)(this,t),this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}return(0,u.Z)(t,[{key:"create",value:function(t){var e=this,n=t.facet(tt).find((function(t){return t.field==e}));return((null==n?void 0:n.create)||this.createF)(t)}},{key:"slot",value:function(t){var e=this,n=t[this.id]>>1;return{create:function(t){return t.values[n]=e.create(t),1},update:function(t,i){var r=t.values[n],s=e.updateF(r,i);return e.compareF(r,s)?0:(t.values[n]=s,1)},reconfigure:function(t,i){return null!=i.config.address[e.id]?(t.values[n]=i.field(e),0):(t.values[n]=e.create(t),1)}}}},{key:"init",value:function(t){return[this,tt.of({field:this,create:t})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(e){var n=new t(G++,e.create,e.update,e.compare||function(t,e){return t===e},e);return e.provide&&(n.provides=e.provide(n)),n}}]),t}(),nt=4,it=3,rt=2,st=1;function ot(t){return function(e){return new ht(e,t)}}var at={highest:ot(0),high:ot(st),default:ot(rt),low:ot(it),lowest:ot(nt)},ht=(0,u.Z)((function t(e,n){(0,h.Z)(this,t),this.inner=e,this.prec=n})),ut=function(){function t(){(0,h.Z)(this,t)}return(0,u.Z)(t,[{key:"of",value:function(t){return new ct(this,t)}},{key:"reconfigure",value:function(e){return t.reconfigure.of({compartment:this,extension:e})}},{key:"get",value:function(t){return t.config.compartments.get(this)}}]),t}(),ct=(0,u.Z)((function t(e,n){(0,h.Z)(this,t),this.compartment=e,this.inner=n})),lt=function(){function t(e,n,i,r,s,o){for((0,h.Z)(this,t),this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}return(0,u.Z)(t,[{key:"staticFacet",value:function(t){var e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}}],[{key:"resolve",value:function(e,n,i){var r,s=[],o=Object.create(null),a=new Map,h=c(function(t,e,n){var i=[[],[],[],[],[]],r=new Map;function s(t,o){var a=r.get(t);if(null!=a){if(a<=o)return;var h=i[a].indexOf(t);h>-1&&i[a].splice(h,1),t instanceof ct&&n.delete(t.compartment)}if(r.set(t,o),Array.isArray(t)){var u,l=c(t);try{for(l.s();!(u=l.n()).done;){s(u.value,o)}}catch(d){l.e(d)}finally{l.f()}}else if(t instanceof ct){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");var f=e.get(t.compartment)||t.inner;n.set(t.compartment,f),s(f,o)}else if(t instanceof ht)s(t.inner,t.prec);else if(t instanceof et)i[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof X)i[o].push(t),t.facet.extensions&&s(t.facet.extensions,rt);else{var v=t.extension;if(!v)throw new Error("Unrecognized extension value in extension set (".concat(t,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));s(v,o)}}return s(t,rt),i.reduce((function(t,e){return t.concat(e)}))}(e,n,a));try{for(h.s();!(r=h.n()).done;){var u=r.value;u instanceof et?s.push(u):(o[u.facet.id]||(o[u.facet.id]=[])).push(u)}}catch(x){h.e(x)}finally{h.f()}for(var l=Object.create(null),f=[],v=[],d=function(){var t=p[g];l[t.id]=v.length<<1,v.push((function(e){return t.slot(e)}))},g=0,p=s;g<p.length;g++)d();var y=null==i?void 0:i.config.facets,m=function(t){var e=o[t],n=e[0].facet,r=y&&y[t]||[];if(e.every((function(t){return 0==t.type})))if(l[n.id]=f.length<<1|1,H(r,e))f.push(i.facet(n));else{var s=n.combine(e.map((function(t){return t.value})));f.push(i&&n.compare(s,i.facet(n))?i.facet(n):s)}else{var a,h=c(e);try{var u=function(){var t=a.value;0==t.type?(l[t.id]=f.length<<1|1,f.push(t.value)):(l[t.id]=v.length<<1,v.push((function(e){return t.dynamicSlot(e)})))};for(h.s();!(a=h.n()).done;)u()}catch(x){h.e(x)}finally{h.f()}l[n.id]=v.length<<1,v.push((function(t){return function(t,e,n){var i=n.map((function(e){return t[e.id]})),r=n.map((function(t){return t.type})),s=i.filter((function(t){return!(1&t)})),o=t[e.id]>>1;function a(t){for(var n=[],s=0;s<i.length;s++){var o=vt(t,i[s]);if(2==r[s]){var a,h=c(o);try{for(h.s();!(a=h.n()).done;){var u=a.value;n.push(u)}}catch(x){h.e(x)}finally{h.f()}}else n.push(o)}return e.combine(n)}return{create:function(t){var e,n=c(i);try{for(n.s();!(e=n.n()).done;)ft(t,e.value)}catch(x){n.e(x)}finally{n.f()}return t.values[o]=a(t),1},update:function(t,n){if(!K(t,s))return 0;var i=a(t);return e.compare(i,t.values[o])?0:(t.values[o]=i,1)},reconfigure:function(t,r){var s=K(t,i),h=r.config.facets[e.id],u=r.facet(e);if(h&&!s&&H(n,h))return t.values[o]=u,0;var c=a(t);return e.compare(c,u)?(t.values[o]=u,0):(t.values[o]=c,1)}}}(t,n,e)}))}};for(var k in o)m(k);return new t(e,a,v.map((function(t){return t(l)})),l,f,o)}}]),t}();function ft(t,e){if(1&e)return 2;var n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;var r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function vt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}var dt=Q.define(),gt=Q.define({combine:function(t){return t.some((function(t){return t}))},static:!0}),pt=Q.define({combine:function(t){return t.length?t[0]:void 0},static:!0}),yt=Q.define(),mt=Q.define(),kt=Q.define(),xt=Q.define({combine:function(t){return!!t.length&&t[0]}}),wt=function(){function t(e,n){(0,h.Z)(this,t),this.type=e,this.value=n}return(0,u.Z)(t,null,[{key:"define",value:function(){return new St}}]),t}(),St=function(){function t(){(0,h.Z)(this,t)}return(0,u.Z)(t,[{key:"of",value:function(t){return new wt(this,t)}}]),t}(),bt=function(){function t(e){(0,h.Z)(this,t),this.map=e}return(0,u.Z)(t,[{key:"of",value:function(t){return new It(this,t)}}]),t}(),It=function(){function t(e,n){(0,h.Z)(this,t),this.type=e,this.value=n}return(0,u.Z)(t,[{key:"map",value:function(e){var n=this.type.map(this.value,e);return void 0===n?void 0:n==this.value?this:new t(this.type,n)}},{key:"is",value:function(t){return this.type==t}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new bt(t.map||function(t){return t})}},{key:"mapEffects",value:function(t,e){if(!t.length)return t;var n,i=[],r=c(t);try{for(r.s();!(n=r.n()).done;){var s=n.value.map(e);s&&i.push(s)}}catch(o){r.e(o)}finally{r.f()}return i}}]),t}();It.reconfigure=It.define(),It.appendConfig=It.define();var Zt=function(){function t(e,n,i,r,s,o){(0,h.Z)(this,t),this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&U(i,n.newLength),s.some((function(e){return e.type==t.time}))||(this.annotations=s.concat(t.time.of(Date.now())))}return(0,u.Z)(t,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(t){var e,n=c(this.annotations);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.type==t)return i.value}}catch(r){n.e(r)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(e){var n=this.annotation(t.userEvent);return!(!n||!(n==e||n.length>e.length&&n.slice(0,e.length)==e&&"."==n[e.length]))}}],[{key:"create",value:function(e,n,i,r,s,o){return new t(e,n,i,r,s,o)}}]),t}();function Pt(t,e){for(var n=[],i=0,r=0;;){var s=void 0,o=void 0;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function Et(t,e,n){var i,r,s,o;return n?(r=e.changes,s=J.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:It.mapEffects(t.effects,r).concat(It.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function At(t,e,n){var i=e.selection,r=Mt(e.annotations);return e.userEvent&&(r=r.concat(Zt.userEvent.of(e.userEvent))),{changes:e.changes instanceof J?e.changes:J.of(e.changes||[],n,t.facet(pt)),selection:i&&(i instanceof $?i:$.single(i.anchor,i.head)),effects:Mt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Ot(t,e,n){var i=At(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(var r=1;r<e.length;r++){!1===e[r].filter&&(n=!1);var s=!!e[r].sequential;i=Et(i,At(t,e[r],s?i.changes.newLength:t.doc.length),s)}var o=Zt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(t){for(var e=t.startState,n=e.facet(kt),i=t,r=n.length-1;r>=0;r--){var s=n[r](t);s&&Object.keys(s).length&&(i=Et(t,At(e,s,t.changes.newLength),!0))}return i==t?t:Zt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}(n?function(t){var e,n=t.startState,i=!0,r=c(n.facet(yt));try{for(r.s();!(e=r.n()).done;){var s=(0,e.value)(t);if(!1===s){i=!1;break}Array.isArray(s)&&(i=!0===i?s:Pt(i,s))}}catch(v){r.e(v)}finally{r.f()}if(!0!==i){var o,a;if(!1===i)a=t.changes.invertedDesc,o=J.empty(n.doc.length);else{var h=t.changes.filter(i);o=h.changes,a=h.filtered.mapDesc(h.changes).invertedDesc}t=Zt.create(n,o,t.selection&&t.selection.map(a),It.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}for(var u=n.facet(mt),l=u.length-1;l>=0;l--){var f=u[l](t);t=f instanceof Zt?f:Array.isArray(f)&&1==f.length&&f[0]instanceof Zt?f[0]:Ot(n,Mt(f),!1)}return t}(o):o)}Zt.time=wt.define(),Zt.userEvent=wt.define(),Zt.addToHistory=wt.define(),Zt.remote=wt.define();var Rt=[];function Mt(t){return null==t?Rt:Array.isArray(t)?t:[t]}var Tt,Ct=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ct||(Ct={})),Nt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{Tt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(ie){}function Bt(t){return function(e){if(!/\S/.test(e))return Ct.Space;if(function(t){if(Tt)return Tt.test(t);for(var e=0;e<t.length;e++){var n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Nt.test(n)))return!0}return!1}(e))return Ct.Word;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ct.Word;return Ct.Other}}var Dt=function(){function t(e,n,i,r,s,o){(0,h.Z)(this,t),this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(var a=0;a<this.config.dynamicSlots.length;a++)ft(this,a<<1);this.computeSlot=null}return(0,u.Z)(t,[{key:"field",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[t.id];if(null!=n)return ft(this,n),vt(this,n);if(e)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ot(this,e,!0)}},{key:"applyTransaction",value:function(e){var n,i,r=this,s=this.config,o=s,a=o.base,h=o.compartments,u=c(e.effects);try{for(u.s();!(n=u.n()).done;){var l=n.value;l.is(ut.reconfigure)?(s&&(h=new Map,s.compartments.forEach((function(t,e){return h.set(e,t)})),s=null),h.set(l.value.compartment,l.value.extension)):l.is(It.reconfigure)?(s=null,a=l.value):l.is(It.appendConfig)&&(s=null,a=Mt(a).concat(l.value))}}catch(f){u.e(f)}finally{u.f()}s?i=e.startState.values.slice():i=new t(s=lt.resolve(a,h,this),this.doc,this.selection,s.dynamicSlots.map((function(){return null})),(function(t,e){return e.reconfigure(t,r)}),null).values;new t(s,e.newDoc,e.newSelection,i,(function(t,n){return n.update(t,e)}),e)}},{key:"replaceSelection",value:function(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:t},range:$.cursor(e.from+t.length)}}))}},{key:"changeByRange",value:function(t){for(var e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=Mt(n.effects),o=1;o<e.ranges.length;o++){for(var a=t(e.ranges[o]),h=this.changes(a.changes),u=h.map(i),c=0;c<o;c++)r[c]=r[c].map(u);var l=i.mapDesc(h,!0);r.push(a.range.map(l)),i=i.compose(u),s=It.mapEffects(s,u).concat(It.mapEffects(Mt(a.effects),l))}return{changes:i,selection:$.create(r,e.mainIndex),effects:s}}},{key:"changes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof J?e:J.of(e,this.doc.length,this.facet(t.lineSeparator))}},{key:"toText",value:function(e){return v.of(e.split(this.facet(t.lineSeparator)||B))}},{key:"sliceDoc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(t,e,this.lineBreak)}},{key:"facet",value:function(t){var e=this.config.address[t.id];return null==e?t.default:(ft(this,e),vt(this,e))}},{key:"toJSON",value:function(t){var e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(var n in t){var i=t[n];i instanceof et&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}},{key:"tabSize",get:function(){return this.facet(t.tabSize)}},{key:"lineBreak",get:function(){return this.facet(t.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(xt)}},{key:"phrase",value:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s,o=c(this.facet(t.phrases));try{for(o.s();!(s=o.n()).done;){var a=s.value;if(Object.prototype.hasOwnProperty.call(a,e)){e=a[e];break}}}catch(h){o.e(h)}finally{o.f()}return i.length&&(e=e.replace(/\$(\$|\d*)/g,(function(t,e){if("$"==e)return"$";var n=+(e||1);return!n||n>i.length?t:i[n-1]}))),e}},{key:"languageDataAt",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[],s=c(this.facet(dt));try{for(s.s();!(n=s.n()).done;){var o,a=n.value,h=c(a(this,e,i));try{for(h.s();!(o=h.n()).done;){var u=o.value;Object.prototype.hasOwnProperty.call(u,t)&&r.push(u[t])}}catch(l){h.e(l)}finally{h.f()}}}catch(l){s.e(l)}finally{s.f()}return r}},{key:"charCategorizer",value:function(t){return Bt(this.languageDataAt("wordChars",t).join(""))}},{key:"wordAt",value:function(t){for(var e=this.doc.lineAt(t),n=e.text,i=e.from,r=e.length,s=this.charCategorizer(t),o=t-i,a=t-i;o>0;){var h=E(n,o,!1);if(s(n.slice(h,o))!=Ct.Word)break;o=h}for(;a<r;){var u=E(n,a);if(s(n.slice(a,u))!=Ct.Word)break;a=u}return o==a?null:$.range(o+i,a+i)}}],[{key:"fromJSON",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");var r=[];if(i)for(var s in i)Object.prototype.hasOwnProperty.call(e,s)&&function(){var t=i[s],n=e[s];r.push(t.init((function(e){return t.spec.fromJSON(n,e)})))}();return t.create({doc:e.doc,selection:$.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=lt.resolve(e.extensions||[],new Map),i=e.doc instanceof v?e.doc:v.of((e.doc||"").split(n.staticFacet(t.lineSeparator)||B)),r=e.selection?e.selection instanceof $?e.selection:$.single(e.selection.anchor,e.selection.head):$.single(0);return U(r,i.length),n.staticFacet(gt)||(r=r.asSingle()),new t(n,i,r,n.dynamicSlots.map((function(){return null})),(function(t,e){return e.create(t)}),null)}}]),t}();function Ft(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={},s=c(t);try{for(s.s();!(n=s.n()).done;)for(var o=n.value,a=0,h=Object.keys(o);a<h.length;a++){var u=h[a],l=o[u],f=r[u];if(void 0===f)r[u]=l;else if(f===l||void 0===l);else{if(!Object.hasOwnProperty.call(i,u))throw new Error("Config merge conflict for field "+u);r[u]=i[u](f,l)}}}catch(d){s.e(d)}finally{s.f()}for(var v in e)void 0===r[v]&&(r[v]=e[v]);return r}Dt.allowMultipleSelections=gt,Dt.tabSize=Q.define({combine:function(t){return t.length?t[0]:4}}),Dt.lineSeparator=pt,Dt.readOnly=xt,Dt.phrases=Q.define({compare:function(t,e){var n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((function(n){return t[n]==e[n]}))}}),Dt.languageData=dt,Dt.changeFilter=yt,Dt.transactionFilter=mt,Dt.transactionExtender=kt,ut.reconfigure=It.define();var Jt=function(){function t(){(0,h.Z)(this,t)}return(0,u.Z)(t,[{key:"eq",value:function(t){return this==t}},{key:"range",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return jt.create(t,e,this)}}]),t}();Jt.prototype.startSide=Jt.prototype.endSide=0,Jt.prototype.point=!1,Jt.prototype.mapMode=D.TrackDel;var jt=function(){function t(e,n,i){(0,h.Z)(this,t),this.from=e,this.to=n,this.value=i}return(0,u.Z)(t,null,[{key:"create",value:function(e,n,i){return new t(e,n,i)}}]),t}();function Lt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}var qt=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.from=e,this.to=n,this.value=i,this.maxPoint=r}return(0,u.Z)(t,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n?this.to:this.from,s=i,o=r.length;;){if(s==o)return s;var a=s+o>>1,h=r[a]-t||(n?this.value[a].endSide:this.value[a].startSide)-e;if(a==s)return h>=0?s:o;h>=0?o=a:s=a+1}}},{key:"between",value:function(t,e,n,i){for(var r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}},{key:"map",value:function(e,n){for(var i=[],r=[],s=[],o=-1,a=-1,h=0;h<this.value.length;h++){var u=this.value[h],c=this.from[h]+e,l=this.to[h]+e,f=void 0,v=void 0;if(c==l){var d=n.mapPos(c,u.startSide,u.mapMode);if(null==d)continue;if(f=v=d,u.startSide!=u.endSide&&(v=n.mapPos(c,u.endSide))<f)continue}else if((f=n.mapPos(c,u.startSide))>(v=n.mapPos(l,u.endSide))||f==v&&u.startSide>0&&u.endSide<=0)continue;(v-f||u.endSide-u.startSide)<0||(o<0&&(o=f),u.point&&(a=Math.max(a,v-f)),i.push(u),r.push(f-o),s.push(v-o))}return{mapped:i.length?new t(r,s,i,a):null,pos:o}}}]),t}(),zt=function(){function t(e,n,i,r){(0,h.Z)(this,t),this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}return(0,u.Z)(t,[{key:"length",get:function(){var t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var t,e=this.nextLayer.size,n=c(this.chunk);try{for(n.s();!(t=n.n()).done;){e+=t.value.value.length}}catch(i){n.e(i)}finally{n.f()}return e}},{key:"chunkEnd",value:function(t){return this.chunkPos[t]+this.chunk[t].length}},{key:"update",value:function(e){var n=e.add,i=void 0===n?[]:n,r=e.sort,s=void 0!==r&&r,o=e.filterFrom,a=void 0===o?0:o,h=e.filterTo,u=void 0===h?this.length:h,c=e.filter;if(0==i.length&&!c)return this;if(s&&(i=i.slice().sort(Lt)),this.isEmpty)return i.length?t.of(i):this;for(var l=new $t(this,null,-1).goto(0),f=0,v=[],d=new Vt;l.value||f<i.length;)if(f<i.length&&(l.from-i[f].from||l.startSide-i[f].value.startSide)>=0){var g=i[f++];d.addInner(g.from,g.to,g.value)||v.push(g)}else 1==l.rangeIndex&&l.chunkIndex<this.chunk.length&&(f==i.length||this.chunkEnd(l.chunkIndex)<i[f].from)&&(!c||a>this.chunkEnd(l.chunkIndex)||u<this.chunkPos[l.chunkIndex])&&d.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!c||a>l.to||u<l.from||c(l.from,l.to,l.value))&&(d.addInner(l.from,l.to,l.value)||v.push(jt.create(l.from,l.to,l.value))),l.next());return d.finishInner(this.nextLayer.isEmpty&&!v.length?t.empty:this.nextLayer.update({add:v,filter:c,filterFrom:a,filterTo:u}))}},{key:"map",value:function(e){if(e.empty||this.isEmpty)return this;for(var n=[],i=[],r=-1,s=0;s<this.chunk.length;s++){var o=this.chunkPos[s],a=this.chunk[s],h=e.touchesRange(o,o+a.length);if(!1===h)r=Math.max(r,a.maxPoint),n.push(a),i.push(e.mapPos(o));else if(!0===h){var u=a.map(o,e),c=u.mapped,l=u.pos;c&&(r=Math.max(r,c.maxPoint),n.push(c),i.push(l))}}var f=this.nextLayer.map(e);return 0==n.length?f:new t(i,n,f||t.empty,r)}},{key:"between",value:function(t,e,n){if(!this.isEmpty){for(var i=0;i<this.chunk.length;i++){var r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}},{key:"iter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Ut.from([this]).goto(t)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(e,n,i,r){return new t(e,n,i,r)}},{key:"iter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ut.from(t).goto(e)}},{key:"compare",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=t.filter((function(t){return t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r})),o=e.filter((function(t){return t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r})),a=Wt(s,o,n),h=new Qt(s,a,r),u=new Qt(o,a,r);n.iterGaps((function(t,e,n){return Ht(h,t,u,e,n,i)})),n.empty&&0==n.length&&Ht(h,0,u,0,0,i)}},{key:"eq",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;null==i&&(i=1e9);var r=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0})),s=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0}));if(r.length!=s.length)return!1;if(!r.length)return!0;for(var o=Wt(r,s),a=new Qt(r,o,0).goto(n),h=new Qt(s,o,0).goto(n);;){if(a.to!=h.to||!Xt(a.active,h.active)||a.point&&(!h.point||!a.point.eq(h.point)))return!1;if(a.to>i)return!0;a.next(),h.next()}}},{key:"spans",value:function(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=new Qt(t,null,r).goto(e),o=e,a=s.openStart;;){var h=Math.min(s.to,n);if(s.point?(i.point(o,h,s.point,s.activeForPoint(s.to),a,s.pointRank),a=s.openEnd(h)+(s.to>h?1:0)):h>o&&(i.span(o,h,s.active,a),a=s.openEnd(h)),s.to>n)break;o=s.to,s.next()}return a}},{key:"of",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new Vt,r=c(t instanceof jt?[t]:n?_t(t):t);try{for(r.s();!(e=r.n()).done;){var s=e.value;i.add(s.from,s.to,s.value)}}catch(o){r.e(o)}finally{r.f()}return i.finish()}}]),t}();function _t(t){if(t.length>1)for(var e=t[0],n=1;n<t.length;n++){var i=t[n];if(Lt(e,i)>0)return t.slice().sort(Lt);e=i}return t}zt.empty=new zt([],[],null,-1),zt.empty.nextLayer=zt.empty;var Vt=function(){function t(){(0,h.Z)(this,t),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return(0,u.Z)(t,[{key:"finishChunk",value:function(t){this.chunks.push(new qt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new t)).add(e,n,i)}},{key:"addInner",value:function(t,e,n){var i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}},{key:"addChunk",value:function(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);var n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}},{key:"finish",value:function(){return this.finishInner(zt.empty)}},{key:"finishInner",value:function(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;var e=zt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}]),t}();function Wt(t,e,n){var i,r=new Map,s=c(t);try{for(s.s();!(i=s.n()).done;)for(var o=i.value,a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a])}catch(g){s.e(g)}finally{s.f()}var h,u=new Set,l=c(e);try{for(l.s();!(h=l.n()).done;)for(var f=h.value,v=0;v<f.chunk.length;v++){var d=r.get(f.chunk[v]);null==d||(n?n.mapPos(d):d)!=f.chunkPos[v]||(null==n?void 0:n.touchesRange(d,d+f.chunk[v].length))||u.add(f.chunk[v])}}catch(g){l.e(g)}finally{l.f()}return u}var $t=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,h.Z)(this,t),this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}return(0,u.Z)(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}},{key:"gotoInner",value:function(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){var i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}},{key:"forward",value:function(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}]),t}(),Ut=function(){function t(e){(0,h.Z)(this,t),this.heap=e}return(0,u.Z)(t,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,i=c(this.heap);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.goto(t,n)}}catch(o){i.e(o)}finally{i.f()}for(var s=this.heap.length>>1;s>=0;s--)Gt(this.heap,s);return this.next(),this}},{key:"forward",value:function(t,e){var n,i=c(this.heap);try{for(i.s();!(n=i.n()).done;){n.value.forward(t,e)}}catch(s){i.e(s)}finally{i.f()}for(var r=this.heap.length>>1;r>=0;r--)Gt(this.heap,r);(this.to-t||this.value.endSide-e)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Gt(this.heap,0)}}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=[],s=0;s<e.length;s++)for(var o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new $t(o,n,i,s));return 1==r.length?r[0]:new t(r)}}]),t}();function Gt(t,e){for(var n=t[e];;){var i=1+(e<<1);if(i>=t.length)break;var r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}var Qt=function(){function t(e,n,i){(0,h.Z)(this,t),this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ut.from(e,n,i)}return(0,u.Z)(t,[{key:"goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}},{key:"forward",value:function(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}},{key:"removeActive",value:function(t){Yt(this.active,t),Yt(this.activeTo,t),Yt(this.activeRank,t),this.minActive=te(this.active,this.activeTo)}},{key:"addActive",value:function(t){for(var e=0,n=this.cursor,i=n.value,r=n.to,s=n.rank;e<this.activeRank.length&&this.activeRank[e]<=s;)e++;Kt(this.active,e,i),Kt(this.activeTo,e,r),Kt(this.activeRank,e,s),t&&Kt(t,e,this.cursor.from),this.minActive=te(this.active,this.activeTo)}},{key:"next",value:function(){var t=this.to,e=this.point;this.point=null;for(var n=this.openStart<0?[]:null,i=0;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&Yt(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var s=this.cursor.value;if(s.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.from<t&&(i=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.from<t&&this.cursor.to>t&&i++,this.cursor.next()}}if(n){for(var o=0;o<n.length&&n[o]<t;)o++;this.openStart=o+i}}},{key:"activeForPoint",value:function(t){if(!this.active.length)return this.active;for(var e=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}},{key:"openEnd",value:function(t){for(var e=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}]),t}();function Ht(t,e,n,i,r,s){t.goto(e),n.goto(i);for(var o=i+r,a=i,h=i-e;;){var u=t.to+h-n.to||t.endSide-n.endSide,c=u<0?t.to+h:n.to,l=Math.min(c,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Xt(t.activeForPoint(t.to+h),n.activeForPoint(n.to))||s.comparePoint(a,l,t.point,n.point):l>a&&!Xt(t.active,n.active)&&s.compareRange(a,l,t.active,n.active),c>o)break;a=c,u<=0&&t.next(),u>=0&&n.next()}}function Xt(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Yt(t,e){for(var n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Kt(t,e,n){for(var i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function te(t,e){for(var n=-1,i=1e9,r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function ee(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0,r=0;r<n;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=E(t,r));return i}function ne(t,e,n,i){for(var r=0,s=0;;){if(s>=e)return r;if(r==t.length)break;s+=9==t.charCodeAt(r)?n-s%n:1,r=E(t,r)}return!0===i?-1:t.length}}}]);
//# sourceMappingURL=ec74204f-d385f36d6092b68205c9.js.map